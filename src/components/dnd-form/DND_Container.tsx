import React, { useState } from "react";
import { DndContext, closestCenter, rectIntersection } from "@dnd-kit/core";
import { Droppable } from "./DND_Droppable";
import { Draggable } from "./DND_Draggable";
import { arrayMove } from "@dnd-kit/sortable";
import generateId from "@/utils/generate_id";
import { ItemType } from "./Types";

export default function DNDContainer() {
  const [items, setItems] = useState<ItemType[]>([]);
  return (
    <DndContext onDragEnd={handleDragEnd} collisionDetection={rectIntersection}>
      <div className="flex w-fit gap-2 mx-auto mt-[100px]">
        <div className="grid grid-cols-2  gap-1  max-h-[364px]">
          <Draggable id="TextArea">
            <>
              <span
                style={{ verticalAlign: "-0.11rem" }}
                className="my-3 text-center"
              >
                <svg
                  viewBox="0 0 1024 1024"
                  height="40"
                  width="150"
                  fill="currentColor"
                  focusable="false"
                  aria-hidden="true"
                  className="h-10 w-36 overflow-hidden"
                >
                  <g>
                    <path
                      d="M944,0 C988.18278,0 1024,35.81722 1024,80 L1024,944 C1024,988.18278 988.18278,1024 944,1024 L80,1024 C35.81722,1024 0,988.18278 0,944 L0,80 C0,35.81722 35.81722,0 80,0 L944,0 Z M944,20 L80,20 C47.1942859,20 20.5378857,46.328343 20,79.0077903 L20,80 L20,944 C20,976.805714 46.328343,1003.46211 79.0077903,1004 L80,1004 L944,1004 C976.805714,1004 1003.46211,977.671657 1004,944.99221 L1004,944 L1004,80 C1004,47.1942859 977.671657,20.5378857 944.99221,20 L944,20 Z"
                      fill="#999999"
                      fillRule="nonzero"
                    ></path>
                    <path
                      d="M947.487373,862.63456 C951.392616,866.539803 951.392616,872.871452 947.487373,876.776695 L876.776695,947.487373 C872.871452,951.392616 866.539803,951.392616 862.63456,947.487373 C858.729317,943.58213 858.729317,937.250481 862.63456,933.345238 L933.345238,862.63456 C937.250481,858.729317 943.58213,858.729317 947.487373,862.63456 Z M912.132034,784.852814 C916.037277,788.758057 916.037277,795.089706 912.132034,798.994949 L798.994949,912.132034 C795.089706,916.037277 788.758057,916.037277 784.852814,912.132034 C780.947571,908.226791 780.947571,901.895142 784.852814,897.989899 L897.989899,784.852814 C901.895142,780.947571 908.226791,780.947571 912.132034,784.852814 Z M876.776695,707.071068 C880.681938,710.976311 880.681938,717.307961 876.776695,721.213203 L721.213203,876.776695 C717.307961,880.681938 710.976311,880.681938 707.071068,876.776695 C703.165825,872.871452 703.165825,866.539803 707.071068,862.63456 L862.63456,707.071068 C866.539803,703.165825 872.871452,703.165825 876.776695,707.071068 Z M150,90 C155.522847,90 160,94.4771525 160,100 L160,380 C160,385.522847 155.522847,390 150,390 C144.477153,390 140,385.522847 140,380 L140,100 C140,94.4771525 144.477153,90 150,90 Z"
                      fill=" #1890ff"
                    ></path>
                  </g>
                </svg>
              </span>
              <span className="text-[0.75rem] mb-3 text-center">TextArea</span>
            </>
          </Draggable>
          <Draggable id="Input">
            <>
              <span
                style={{ verticalAlign: "-0.11rem" }}
                className="my-3 text-center"
              >
                <svg
                  viewBox="0 0 1424 1024"
                  height="40"
                  width="150"
                  fill="currentColor"
                  focusable="false"
                  aria-hidden="true"
                  className="h-10 w-36 overflow-hidden"
                >
                  <g>
                    <rect
                      fill=" #1890ff"
                      transform="translate(150.000000, 512.000000) rotate(90.000000) translate(-150.000000, -512.000000) "
                      x="-50"
                      y="502"
                      width="400"
                      height="20"
                      rx="10"
                      className="w-96"
                    ></rect>
                    <path
                      d="M1344,218 C1388.18278,218 1424,253.81722 1424,298 L1424,726 C1424,770.18278 1388.18278,806 1344,806 L80,806 C35.81722,806 0,770.18278 0,726 L0,298 C0,253.81722 35.81722,218 80,218 L1344,218 Z M1344,238 L80,238 C47.1942859,238 20.5378857,264.328343 20,297.00779 L20,298 L20,726 C20,758.805714 46.328343,785.462114 79.0077903,785.991962 L80,786 L1344,786 C1376.80571,786 1403.46211,759.671657 1404,726.99221 L1404,726 L1404,298 C1404,265.194286 1377.67166,238.537886 1344.99221,238.008038 L1344,238 Z"
                      fill="#999999"
                      fillRule="nonzero"
                    ></path>
                  </g>
                </svg>
              </span>
              <span className="text-[0.75rem] mb-3 text-center">Input</span>
            </>
          </Draggable>
          <Draggable id="NumberInput">
            <>
              <span
                style={{ verticalAlign: "-0.11rem" }}
                className="my-3 text-center"
              >
                <svg
                  viewBox="0 0 1424 1024"
                  height="40"
                  width="150"
                  fill="currentColor"
                  focusable="false"
                  aria-hidden="true"
                  className="h-10 w-36 overflow-hidden"
                >
                  <g>
                    <path
                      d="M1344,218 C1388.18278,218 1424,253.81722 1424,298 L1424,726 C1424,770.18278 1388.18278,806 1344,806 L80,806 C35.81722,806 0,770.18278 0,726 L0,298 C0,253.81722 35.81722,218 80,218 L1344,218 Z M1344,238 L80,238 C47.1942859,238 20.5378857,264.328343 20,297.00779 L20,298 L20,726 C20,758.805714 46.328343,785.462114 79.0077903,785.991962 L80,786 L1344,786 C1376.80571,786 1403.46211,759.671657 1404,726.99221 L1404,726 L1404,298 C1404,265.194286 1377.67166,238.537886 1344.99221,238.008038 L1344,238 Z"
                      fill="#999999"
                      fillRule="nonzero"
                    ></path>
                    <rect
                      fill="#999999"
                      transform="translate(1096.000000, 512.000000) scale(-1, 1) translate(-1096.000000, -512.000000) "
                      x="1086"
                      y="218"
                      width="20"
                      height="588"
                      rx="10"
                      className="w-5"
                    ></rect>
                    <rect
                      fill="#999999"
                      transform="translate(1260.000000, 512.000000) scale(-1, 1) rotate(90.000000) translate(-1260.000000, -512.000000) "
                      x="1250"
                      y="348"
                      width="20"
                      height="328"
                      rx="10"
                      className="w-5"
                    ></rect>
                    <path
                      d="M1319.65311,602.492777 C1322.69467,597.882919 1328.89737,596.611559 1333.50722,599.653115 C1338.03621,602.64131 1339.3428,608.6807 1336.50299,613.263154 L1336.34689,613.507223 L1279.01464,700.401401 C1276.82002,703.727631 1273.9847,706.583294 1270.67424,708.801642 C1257.04789,717.932702 1238.64758,714.416301 1229.33159,700.989873 L1229.05208,700.579981 L1170.74424,613.56675 C1167.66981,608.978753 1168.8968,602.767127 1173.4848,599.692696 C1177.99087,596.673166 1184.06309,597.802804 1187.19117,602.190685 L1187.35885,602.43325 L1245.66669,689.446481 C1248.74112,694.034478 1254.95274,695.261466 1259.54074,692.187035 C1260.53388,691.52153 1261.39873,690.683951 1262.09506,689.714816 L1262.32087,689.386954 L1319.65311,602.492777 Z"
                      fill=" #1890ff"
                      fillRule="nonzero"
                    ></path>
                    <path
                      d="M1319.65311,314.492777 C1322.69467,309.882919 1328.89737,308.611559 1333.50722,311.653115 C1338.03621,314.64131 1339.3428,320.6807 1336.50299,325.263154 L1336.34689,325.507223 L1279.01464,412.401401 C1276.82002,415.727631 1273.9847,418.583294 1270.67424,420.801642 C1257.04789,429.932702 1238.64758,426.416301 1229.33159,412.989873 L1229.05208,412.579981 L1170.74424,325.56675 C1167.66981,320.978753 1168.8968,314.767127 1173.4848,311.692696 C1177.99087,308.673166 1184.06309,309.802804 1187.19117,314.190685 L1187.35885,314.43325 L1245.66669,401.446481 C1248.74112,406.034478 1254.95274,407.261466 1259.54074,404.187035 C1260.53388,403.52153 1261.39873,402.683951 1262.09506,401.714816 L1262.32087,401.386954 L1319.65311,314.492777 Z"
                      fill=" #1890ff"
                      fillRule="nonzero"
                      transform="translate(1253.525806, 367.940873) scale(1, -1) translate(-1253.525806, -367.940873) "
                    ></path>
                    <path
                      style={{ stroke: "rgb(255, 255, 255)" }}
                      d="M178.761719,654.887695 C188.066406,654.887695 192.71875,649.718424 192.71875,639.379883 L192.71875,639.379883 L192.71875,408.313477 C192.71875,398.750326 188.195638,393.96875 179.149414,393.96875 C176.564779,393.96875 172.817057,397.070312 167.90625,403.273438 C158.601562,415.16276 148.90918,422.787435 138.829102,426.147461 C135.469076,426.922852 132.755208,427.439779 130.6875,427.698242 C122.416667,429.765951 118.28125,433.513672 118.28125,438.941406 C118.28125,447.470703 122.804362,451.735352 131.850586,451.735352 C140.379883,451.735352 151.88151,447.21224 166.355469,438.166016 L166.355469,438.166016 L166.355469,639.379883 C166.355469,649.718424 170.490885,654.887695 178.761719,654.887695 Z M421.84668,649.072266 C432.443685,649.072266 437.742188,644.549154 437.742188,635.50293 C437.742188,626.973633 432.443685,622.708984 421.84668,622.708984 L421.84668,622.708984 L307.088867,622.708984 C317.944336,607.459635 331.772135,591.564128 348.572266,575.022461 C358.652344,565.200846 374.41862,550.985352 395.871094,532.375977 C423.009766,509.114258 436.579102,485.723307 436.579102,462.203125 C436.579102,440.233724 428.179036,423.045898 411.378906,410.639648 C396.646484,399.267253 378.166341,393.581055 355.938477,393.581055 C332.159831,393.581055 312.258138,401.334961 296.233398,416.842773 C280.725586,432.609049 272.97168,449.926107 272.97168,468.793945 C272.97168,479.132487 277.753255,484.301758 287.316406,484.301758 C292.485677,484.301758 295.974935,478.61556 297.78418,467.243164 C299.593424,456.129232 304.116536,446.824544 311.353516,439.329102 C323.501302,426.147461 338.362956,419.556641 355.938477,419.556641 C370.412435,419.556641 382.43099,423.045898 391.994141,430.024414 C402.591146,437.77832 407.889648,448.504557 407.889648,462.203125 C407.889648,480.295573 397.421875,498.646484 376.486328,517.255859 C358.39388,533.797526 344.953776,546.203776 336.166016,554.474609 C317.039714,571.016276 301.661133,586.394857 290.030273,600.610352 C276.848633,616.893555 270.257812,628.265951 270.257812,634.727539 C270.257812,644.29069 276.590169,649.072266 289.254883,649.072266 L289.254883,649.072266 L421.84668,649.072266 Z M547.847656,654.887695 C571.109375,654.887695 591.527995,648.813802 609.103516,636.666016 C629.263672,622.708984 639.34375,604.358073 639.34375,581.613281 C639.34375,548.271484 622.026693,526.04362 587.392578,514.929688 C619.442057,503.557292 635.466797,485.20638 635.466797,459.876953 C635.466797,437.649089 625.903646,420.590495 606.777344,408.701172 C591.269531,398.879557 571.884766,393.96875 548.623047,393.96875 C531.047526,393.96875 514.764323,399.008789 499.773438,409.088867 C482.714844,420.461263 474.185547,435.064453 474.185547,452.898438 C474.185547,462.978516 479.096354,468.018555 488.917969,468.018555 C494.08724,468.018555 497.705729,463.883138 499.773438,455.612305 C502.358073,445.273763 507.527344,437.132161 515.28125,431.1875 C525.102865,423.950521 536.216797,420.332031 548.623047,420.332031 C563.613932,420.332031 576.537109,423.17513 587.392578,428.861328 C600.832682,435.839844 607.552734,445.79069 607.552734,458.713867 C607.552734,475.513997 598.764974,487.40332 581.189453,494.381836 C570.333984,498.775716 554.050781,501.360352 532.339844,502.135742 C519.933594,502.652669 513.730469,507.046549 513.730469,515.317383 C513.730469,524.105143 519.933594,528.499023 532.339844,528.499023 C561.28776,528.499023 581.189453,532.763672 592.044922,541.292969 C604.451172,551.373047 610.654297,564.813151 610.654297,581.613281 C610.654297,596.08724 603.675781,607.718099 589.71875,616.505859 C577.829427,624.259766 563.872396,628.136719 547.847656,628.136719 C516.315104,628.136719 497.447266,614.825846 491.244141,588.204102 C488.659505,578.124023 485.041016,573.083984 480.388672,573.083984 C470.567057,573.083984 465.65625,578.770182 465.65625,590.142578 C465.65625,610.819661 474.702474,627.102865 492.794922,638.992188 C508.302734,649.589193 526.653646,654.887695 547.847656,654.887695 Z"
                      stroke="#FFFFFF"
                      fill="#999999"
                      fillRule="nonzero"
                    ></path>
                  </g>
                </svg>
              </span>
              <span className="text-[0.75rem] mb-3 text-center">
                NumberInput
              </span>
            </>
          </Draggable>
          <Draggable id="Select">
            <>
              <span
                style={{ verticalAlign: "-0.11rem" }}
                className="my-3 text-center"
              >
                <svg
                  viewBox="0 0 1024 1024"
                  height="40"
                  width="150"
                  fill="currentColor"
                  focusable="false"
                  aria-hidden="true"
                  className="h-10 w-36 overflow-hidden"
                >
                  <g>
                    <path
                      d="M944,0 C988.18278,0 1024,35.81722 1024,80 L1024,944 C1024,988.18278 988.18278,1024 944,1024 L80,1024 C35.81722,1024 0,988.18278 0,944 L0,80 C0,35.81722 35.81722,0 80,0 L944,0 Z M944,20 L80,20 C47.1942859,20 20.5378857,46.328343 20,79.0077903 L20,80 L20,944 C20,976.805714 46.328343,1003.46211 79.0077903,1004 L80,1004 L944,1004 C976.805714,1004 1003.46211,977.671657 1004,944.99221 L1004,944 L1004,80 C1004,47.1942859 977.671657,20.5378857 944.99221,20 L944,20 Z"
                      fill="#999999"
                      fillRule="nonzero"
                    ></path>
                    <rect
                      fill="#999999"
                      transform="translate(512.000000, 571.000000) scale(-1, 1) rotate(630.000000) translate(-512.000000, -571.000000) "
                      x="502"
                      y="171"
                      width="20"
                      height="800"
                      rx="10"
                      className="w-5"
                    ></rect>
                    <rect
                      fill="#999999"
                      transform="translate(512.000000, 791.000000) scale(-1, 1) rotate(630.000000) translate(-512.000000, -791.000000) "
                      x="502"
                      y="391"
                      width="20"
                      height="800"
                      rx="10"
                      className="w-5"
                    ></rect>
                    <rect
                      fill="#999999"
                      transform="translate(513.500000, 350.000000) scale(-1, 1) rotate(630.000000) translate(-513.500000, -350.000000) "
                      x="503.5"
                      y="-150.5"
                      width="20"
                      height="1001"
                      rx="10"
                      className="w-5"
                    ></rect>
                    <path
                      d="M903.653115,129.492777 C906.69467,124.882919 912.897366,123.611559 917.507223,126.653115 C922.036206,129.64131 923.342804,135.6807 920.50299,140.263154 L920.346885,140.507223 L863.014644,227.401401 C860.820018,230.727631 857.984696,233.583294 854.674239,235.801642 C841.047887,244.932702 822.647581,241.416301 813.331586,227.989873 L813.052078,227.579981 L754.744243,140.56675 C751.669812,135.978753 752.896799,129.767127 757.484796,126.692696 C761.990865,123.673166 768.063093,124.802804 771.191174,129.190685 L771.35885,129.43325 L829.666685,216.446481 C832.741116,221.034478 838.952742,222.261466 843.540739,219.187035 C844.533876,218.52153 845.398727,217.683951 846.09506,216.714816 L846.320874,216.386954 L903.653115,129.492777 Z"
                      fill=" #1890ff"
                      fillRule="nonzero"
                    ></path>
                    <rect
                      fill="#999999"
                      transform="translate(362.000000, 181.000000) scale(-1, 1) rotate(630.000000) translate(-362.000000, -181.000000) "
                      x="352"
                      y="-69"
                      width="20"
                      height="500"
                      rx="10"
                      className="w-5"
                    ></rect>
                  </g>
                </svg>
              </span>
              <span className="text-[0.75rem] mb-3 text-center">Select</span>
            </>
          </Draggable>
          <Draggable id="Radio">
            <>
              <span
                style={{ verticalAlign: "-0.11rem" }}
                className="my-3 text-center"
              >
                <svg
                  viewBox="0 0 1024 1024"
                  height="40"
                  width="150"
                  fill="currentColor"
                  focusable="false"
                  aria-hidden="true"
                  className="h-10 w-36 overflow-hidden"
                >
                  <g>
                    <path
                      d="M182,172 C259.319865,172 322,234.680135 322,312 C322,389.319865 259.319865,452 182,452 C104.680135,452 42,389.319865 42,312 C42,234.680135 104.680135,172 182,172 Z M182,192 C115.72583,192 62,245.72583 62,312 C62,378.27417 115.72583,432 182,432 C248.27417,432 302,378.27417 302,312 C302,245.72583 248.27417,192 182,192 Z"
                      fill="#999999"
                      fillRule="nonzero"
                    ></path>
                    <rect
                      fill="#999999"
                      transform="translate(702.000000, 312.000000) scale(-1, 1) rotate(630.000000) translate(-702.000000, -312.000000) "
                      x="692"
                      y="32"
                      width="20"
                      height="560"
                      rx="10"
                      className="w-5"
                    ></rect>
                    <path
                      d="M182,252 C215.137085,252 242,278.862915 242,312 C242,345.137085 215.137085,372 182,372 C148.862915,372 122,345.137085 122,312 C122,278.862915 148.862915,252 182,252 Z M182,272 C159.90861,272 142,289.90861 142,312 C142,334.09139 159.90861,352 182,352 C204.09139,352 222,334.09139 222,312 C222,289.90861 204.09139,272 182,272 Z"
                      fill=" #1890ff"
                      fillRule="nonzero"
                    ></path>
                    <path
                      d="M182,572 C259.319865,572 322,634.680135 322,712 C322,789.319865 259.319865,852 182,852 C104.680135,852 42,789.319865 42,712 C42,634.680135 104.680135,572 182,572 Z M182,592 C115.72583,592 62,645.72583 62,712 C62,778.27417 115.72583,832 182,832 C248.27417,832 302,778.27417 302,712 C302,645.72583 248.27417,592 182,592 Z"
                      fill="#999999"
                      fillRule="nonzero"
                    ></path>
                    <rect
                      fill="#999999"
                      transform="translate(702.000000, 712.000000) scale(-1, 1) rotate(630.000000) translate(-702.000000, -712.000000) "
                      x="692"
                      y="432"
                      width="20"
                      height="560"
                      rx="10"
                      className="w-5"
                    ></rect>
                    <path
                      d="M182,172 C259.319865,172 322,234.680135 322,312 C322,389.319865 259.319865,452 182,452 C104.680135,452 42,389.319865 42,312 C42,234.680135 104.680135,172 182,172 Z M182,192 C115.72583,192 62,245.72583 62,312 C62,378.27417 115.72583,432 182,432 C248.27417,432 302,378.27417 302,312 C302,245.72583 248.27417,192 182,192 Z"
                      fill="#999999"
                      fillRule="nonzero"
                    ></path>
                    <rect
                      fill="#999999"
                      transform="translate(702.000000, 312.000000) scale(-1, 1) rotate(630.000000) translate(-702.000000, -312.000000) "
                      x="692"
                      y="32"
                      width="20"
                      height="560"
                      rx="10"
                      className="w-5"
                    ></rect>
                    <path
                      d="M182,252 C215.137085,252 242,278.862915 242,312 C242,345.137085 215.137085,372 182,372 C148.862915,372 122,345.137085 122,312 C122,278.862915 148.862915,252 182,252 Z M182,272 C159.90861,272 142,289.90861 142,312 C142,334.09139 159.90861,352 182,352 C204.09139,352 222,334.09139 222,312 C222,289.90861 204.09139,272 182,272 Z"
                      fill=" #1890ff"
                      fillRule="nonzero"
                    ></path>
                    <path
                      d="M182,572 C259.319865,572 322,634.680135 322,712 C322,789.319865 259.319865,852 182,852 C104.680135,852 42,789.319865 42,712 C42,634.680135 104.680135,572 182,572 Z M182,592 C115.72583,592 62,645.72583 62,712 C62,778.27417 115.72583,832 182,832 C248.27417,832 302,778.27417 302,712 C302,645.72583 248.27417,592 182,592 Z"
                      fill="#999999"
                      fillRule="nonzero"
                    ></path>
                    <rect
                      fill="#999999"
                      transform="translate(702.000000, 712.000000) scale(-1, 1) rotate(630.000000) translate(-702.000000, -712.000000) "
                      x="692"
                      y="432"
                      width="20"
                      height="560"
                      rx="10"
                      className="w-5"
                    ></rect>
                  </g>
                </svg>
              </span>
              <span className="text-[0.75rem] mb-3 text-center">Radio</span>
            </>
          </Draggable>
          <Draggable id="Checkbox">
            <>
              <span
                style={{ verticalAlign: "-0.11rem" }}
                className="my-3 text-center"
              >
                <svg
                  viewBox="0 0 1024 1024"
                  height="40"
                  width="150"
                  fill="currentColor"
                  focusable="false"
                  aria-hidden="true"
                  className="h-10 w-36 overflow-hidden"
                >
                  <g>
                    <path
                      d="M282,162 L82,162 C54.3857625,162 32,184.385763 32,212 L32,412 C32,439.614237 54.3857625,462 82,462 L282,462 C309.614237,462 332,439.614237 332,412 L332,212 C332,184.385763 309.614237,162 282,162 Z M82,182 L282,182 C298.568542,182 312,195.431458 312,212 L312,412 C312,428.568542 298.568542,442 282,442 L82,442 C65.4314575,442 52,428.568542 52,412 L52,212 C52,195.431458 65.4314575,182 82,182 Z"
                      fill="#979797"
                      fillRule="nonzero"
                    ></path>
                    <path
                      d="M282,562 L82,562 C54.3857625,562 32,584.385763 32,612 L32,812 C32,839.614237 54.3857625,862 82,862 L282,862 C309.614237,862 332,839.614237 332,812 L332,612 C332,584.385763 309.614237,562 282,562 Z M82,582 L282,582 C298.568542,582 312,595.431458 312,612 L312,812 C312,828.568542 298.568542,842 282,842 L82,842 C65.4314575,842 52,828.568542 52,812 L52,612 C52,595.431458 65.4314575,582 82,582 Z"
                      fill="#979797"
                      fillRule="nonzero"
                    ></path>
                    <rect
                      fill="#999999"
                      transform="translate(702.000000, 312.000000) scale(-1, 1) rotate(630.000000) translate(-702.000000, -312.000000) "
                      x="692"
                      y="32"
                      width="20"
                      height="560"
                      rx="10"
                      className="w-5"
                    ></rect>
                    <rect
                      fill="#999999"
                      transform="translate(702.000000, 712.000000) scale(-1, 1) rotate(630.000000) translate(-702.000000, -712.000000) "
                      x="692"
                      y="432"
                      width="20"
                      height="560"
                      rx="10"
                      className="w-5"
                    ></rect>
                    <path
                      d="M266.959609,247.398388 C270.881721,243.510087 277.213311,243.537497 281.101612,247.459609 C284.919216,251.31041 284.962205,257.483868 281.250462,261.387129 L281.040391,261.601612 L179.182262,362.581653 C167.569231,374.094573 148.905532,374.169556 137.200441,362.836926 L136.847885,362.490021 L82.9289322,308.571068 C79.0236893,304.665825 79.0236893,298.334175 82.9289322,294.428932 C86.7631707,290.594694 92.9363852,290.52498 96.8556774,294.219792 L97.0710678,294.428932 L150.990021,348.347885 C154.812528,352.170392 160.962783,352.253054 164.885852,348.586012 L165.10148,348.37843 L266.959609,247.398388 Z"
                      fill=" #1890ff"
                      fillRule="nonzero"
                    ></path>
                  </g>
                </svg>
              </span>
              <span className="text-[0.75rem] mb-3 text-center">Checkbox</span>
            </>
          </Draggable>
          <Draggable id="Upload">
            <>
              <span
                style={{ verticalAlign: "-0.11rem" }}
                className="my-3 text-center"
              >
                <svg
                  viewBox="0 0 1024 1024"
                  height="40"
                  width="150"
                  fill="currentColor"
                  focusable="false"
                  aria-hidden="true"
                  className="h-10 w-36 overflow-hidden"
                >
                  <g>
                    <rect
                      fill="#999999"
                      transform="translate(502.000000, 712.000000) scale(-1, 1) rotate(900.000000) translate(-502.000000, -712.000000) "
                      x="492"
                      y="512"
                      width="20"
                      height="400"
                      rx="10"
                      className="w-5"
                    ></rect>
                    <path
                      d="M622,551.705627 C627.522847,551.705627 632,556.18278 632,561.705627 C632,567.134867 627.673329,571.553559 622.279905,571.701786 L622,571.705627 L402,571.705627 C396.57076,571.705627 392.152068,576.032298 392.003842,581.425723 L392,581.705627 L392,801.705627 C392,807.228475 387.522847,811.705627 382,811.705627 C376.57076,811.705627 372.152068,807.378957 372.003842,801.985532 L372,801.705627 L372,581.705627 C372,565.30277 385.164172,551.97457 401.503895,551.709647 L402,551.705627 L622,551.705627 Z"
                      fill=" #1890ff"
                      fillRule="nonzero"
                      transform="translate(502.000000, 681.705627) rotate(45.000000) translate(-502.000000, -681.705627) "
                    ></path>
                    <path
                      d="M524.931034,80 C691.960872,80 786.973493,198.134474 809.205262,430.123156 C809.683377,435.112294 813.780979,438.97686 818.789541,439.162362 C952.942877,444.13101 1022,506.676517 1022,624.482759 C1022,686.378487 997.330268,733.50153 948.40537,764.65293 C900.561062,795.116298 829.824906,810.12931 736.137931,810.12931 C730.615084,810.12931 726.137931,805.652158 726.137931,800.12931 C726.137931,794.606463 730.615084,790.12931 736.137931,790.12931 C826.359002,790.12931 893.553881,775.867897 937.663596,747.782415 C980.692721,720.384964 1002,679.684731 1002,624.482759 C1002,519.142921 943.197337,464.83155 821.748746,459.301313 L818.049306,459.148659 C803.023623,458.592151 790.730816,446.998455 789.296471,432.03104 C767.947106,209.250259 680.079839,100 524.931034,100 C369.7047,100 282.288484,189.964836 260.728055,373.294922 C259.087578,387.244033 247.995507,398.167549 234.064277,399.627152 L233.641257,399.668479 C91.431391,412.557268 22,481.319011 22,608.318966 C22,739.159701 103.629541,799.201265 272.239445,790.143708 C277.754341,789.847453 282.46521,794.077998 282.761465,799.592894 C283.057719,805.10779 278.827175,809.818658 273.312279,810.114913 C94.2210335,819.735517 2,751.903517 2,608.318966 C2,470.51406 79.7276986,393.536025 231.836012,379.750118 C236.545747,379.323264 240.312596,375.655603 240.864945,370.958932 C263.543681,178.119782 358.883821,80 524.931034,80 Z"
                      fill="#979797"
                      fillRule="nonzero"
                    ></path>
                  </g>
                </svg>
              </span>
              <span className="text-[0.75rem] mb-3 text-center">Upload</span>
            </>
          </Draggable>
          <Draggable id="Switch">
            <>
              <span
                style={{ verticalAlign: "-0.11rem" }}
                className="my-3 text-center"
              >
                <svg
                  viewBox="0 0 1024 1024"
                  height="40"
                  width="150"
                  fill="currentColor"
                  focusable="false"
                  aria-hidden="true"
                  className="h-10 w-36 overflow-hidden"
                >
                  <g>
                    <path
                      d="M764,252 C907.594035,252 1024,368.405965 1024,512 C1024,655.594035 907.594035,772 764,772 L260,772 C116.405965,772 0,655.594035 0,512 C0,368.405965 116.405965,252 260,252 L764,252 Z M764,272 L260,272 C127.45166,272 20,379.45166 20,512 C20,643.222857 125.313372,749.848457 256.031161,751.967847 L260,752 L764,752 C896.54834,752 1004,644.54834 1004,512 C1004,380.777143 898.686628,274.151543 767.968839,272.032153 L764,272 Z"
                      fill="#999999"
                      fillRule="nonzero"
                    ></path>
                    <path
                      d="M764,342 C670.111593,342 594,418.111593 594,512 C594,605.888407 670.111593,682 764,682 C857.888407,682 934,605.888407 934,512 C934,418.111593 857.888407,342 764,342 Z M764,362 C846.842712,362 914,429.157288 914,512 C914,594.842712 846.842712,662 764,662 C681.157288,662 614,594.842712 614,512 C614,429.157288 681.157288,362 764,362 Z"
                      fill=" #1890ff"
                      fillRule="nonzero"
                    ></path>
                  </g>
                </svg>
              </span>
              <span className="text-[0.75rem] mb-3 text-center">Switch</span>
            </>
          </Draggable>
        </div>
        <Droppable items={items} />
      </div>
    </DndContext>
  );

  function handleDragEnd(event: any) {
    const { over, active } = event;
    if (active?.id && active?.id?.length < 20) {
      const newItem = {
        _id: generateId(),
        type: active?.id,
      };
      setItems([...items, newItem]);
    }

    if (over?.id && active?.id !== over?.id) {
      setItems((items) => {
        const activeIndex = items.findIndex((item) => item._id === active.id);
        const overIndex = items.findIndex((item) => item._id === over.id);
        const t = arrayMove(items, activeIndex, overIndex);
        return t;
      });
    }
  }
}
